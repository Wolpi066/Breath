<div class="min-h-screen bg-black">

    @if (!isCartOpen()) {
    <app-minimal-navbar [cartItemsCount]="cartItemsCount()" (cartClick)="openCart()" (navigate)="navigate($event)">
    </app-minimal-navbar>
    }

    @if (currentPage() === 'home') {
    <app-hero></app-hero>
    }

    <main class="bg-white">

        @if (currentPage() === 'home') {
        <app-minimal-product-grid [banners]="banners()" [adminProducts]="adminProducts()"
            (addToCart)="addToCart($event)">
        </app-minimal-product-grid>

        } @else if (currentPage() === 'productos') {
        <app-products-page [adminProducts]="adminProducts()" (addToCart)="addToCart($event)">
        </app-products-page>

        } @else if (currentPage() === 'admin') {
        <app-admin-dashboard [products]="adminProducts()" [banners]="banners()" (close)="navigate('home')"
            (saveProduct)="saveProduct($event)" (deleteProduct)="deleteProduct($event)"
            (saveBanners)="saveBanners($event)">
        </app-admin-dashboard>

        } @else {
        <div style="padding-top: 150px; text-align: center;">
            <h1>PÁGINA EN CONSTRUCCIÓN</h1>
            <p>Sección: {{ currentPage() | uppercase }}</p>
            <button (click)="navigate('home')">VOLVER AL INICIO</button>
        </div>
        }
    </main>

    @if (!isCartOpen() && currentPage() !== 'admin') {
    <app-minimal-footer (adminClick)="navigate('admin')"></app-minimal-footer>
    }

    <app-shopping-cart [isOpen]="isCartOpen()" [items]="cart()" (close)="closeCart()"
        (updateQuantity)="updateQuantity($event)" (removeItem)="removeItem($event)">
    </app-shopping-cart>

</div>